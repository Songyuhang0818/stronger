---
title: 作用域和作用域链
author: songyuhang
date: 2021-12-21
tags:
  - JS
---

## 作用域

作用域是指在程序中定义变量的区域，该位置决定了变量的生命周期。通俗地理解，作用域就是变量与函数的可访问范围，即作用域控制着变量和函数的可见性和生命周期。

ES6 之前只用全局作用域和函数作用域

- 全局作用域: 全局作用域的对象在代码中的任何位置都可以访问，其生命周期伴随着页面的生命周期。

- 函数作用域: 函数作用域就是在函数内部定义的变量或者函数，并且只能在函数内部访问到，函数执行结束后，函数内部定义的变量就被销毁。

ES6 新增块级作用域。

## 作用域链

```js
function bar() {
  console.log(myName); // 宋雨航
}
function foo() {
  var myName = "songyuhang";
  bar();
}
var myName = "宋雨航";
foo();
```

每个执行上下文的变量环境中，都包含了一个外部引用，用来指向外部的执行上下文，我们把这个外部引用称为 outer，当一段代码使用了一个变量时，JavaScript 引擎首先会在“当前的执行上下文”中查找该变量，如果在当前的变量环境中没有查找到，那么 JavaScript 引擎会继续在 outer 所指向的执行上下文中查找。

### 词法作用域

词法作用域就是指作用域是由代码中函数声明的位置来决定的，所以词法作用域是静态的作用域，通过它就能够预测代码在执行过程中如何查找标识符。词法作用域是代码阶段就决定好的，和函数是怎么调用的没有关系。
